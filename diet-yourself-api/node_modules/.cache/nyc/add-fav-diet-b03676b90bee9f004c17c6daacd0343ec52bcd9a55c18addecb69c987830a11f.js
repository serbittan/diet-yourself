function cov_25go7ftizr(){var path="/Users/sergibittangonzalez/bootcamp/collab/skylab-bootcamp-202001/staff/sergi-bittan/diet-yourself/diet-yourself-api/logic/add-fav-diet.js";var hash="470b8e17393bf92d7411a026de6a807facba3a61";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/sergibittangonzalez/bootcamp/collab/skylab-bootcamp-202001/staff/sergi-bittan/diet-yourself/diet-yourself-api/logic/add-fav-diet.js",statementMap:{"0":{start:{line:1,column:21},end:{line:1,column:51}},"1":{start:{line:2,column:29},end:{line:2,column:58}},"2":{start:{line:3,column:26},end:{line:3,column:57}},"3":{start:{line:5,column:0},end:{line:31,column:1}},"4":{start:{line:7,column:4},end:{line:7,column:29}},"5":{start:{line:9,column:4},end:{line:28,column:8}},"6":{start:{line:12,column:21},end:{line:12,column:44}},"7":{start:{line:14,column:8},end:{line:25,column:9}},"8":{start:{line:14,column:19},end:{line:14,column:79}},"9":{start:{line:17,column:25},end:{line:17,column:34}},"10":{start:{line:19,column:12},end:{line:19,column:88}},"11":{start:{line:19,column:22},end:{line:19,column:88}},"12":{start:{line:21,column:12},end:{line:21,column:37}},"13":{start:{line:23,column:12},end:{line:23,column:29}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:5,column:17},end:{line:5,column:18}},loc:{start:{line:5,column:25},end:{line:31,column:1}},line:5},"1":{name:"(anonymous_1)",decl:{start:{line:9,column:12},end:{line:9,column:13}},loc:{start:{line:9,column:24},end:{line:28,column:5}},line:9}},branchMap:{"0":{loc:{start:{line:14,column:8},end:{line:25,column:9}},type:"if",locations:[{start:{line:14,column:8},end:{line:25,column:9}},{start:{line:14,column:8},end:{line:25,column:9}}],line:14},"1":{loc:{start:{line:19,column:12},end:{line:19,column:88}},type:"if",locations:[{start:{line:19,column:12},end:{line:19,column:88}},{start:{line:19,column:12},end:{line:19,column:88}}],line:19}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},f:{"0":0,"1":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"470b8e17393bf92d7411a026de6a807facba3a61"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];cov_25go7ftizr=function(){return actualCoverage;};return actualCoverage;}cov_25go7ftizr();const{validate}=(cov_25go7ftizr().s[0]++,require("diet-yourself-utils"));const{models:{User}}=(cov_25go7ftizr().s[1]++,require('diet-yourself-data'));const{NotFoundError}=(cov_25go7ftizr().s[2]++,require("diet-yourself-errors"));cov_25go7ftizr().s[3]++;module.exports=id=>{cov_25go7ftizr().f[0]++;cov_25go7ftizr().s[4]++;validate.string(id,"id");cov_25go7ftizr().s[5]++;return(async()=>{cov_25go7ftizr().f[1]++;const user=(cov_25go7ftizr().s[6]++,await User.findById(id));cov_25go7ftizr().s[7]++;if(!user){cov_25go7ftizr().b[0][0]++;cov_25go7ftizr().s[8]++;throw new NotFoundError(`user with id ${id} does not exist`);}else{cov_25go7ftizr().b[0][1]++;const diet=(cov_25go7ftizr().s[9]++,user.diet);cov_25go7ftizr().s[10]++;if(!diet){cov_25go7ftizr().b[1][0]++;cov_25go7ftizr().s[11]++;throw new NotFoundError(`user with id ${id} does not have a diet`);}else{cov_25go7ftizr().b[1][1]++;}cov_25go7ftizr().s[12]++;user.favorites.push(diet);cov_25go7ftizr().s[13]++;await user.save();}})();};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkZC1mYXYtZGlldC5qcyJdLCJuYW1lcyI6WyJ2YWxpZGF0ZSIsInJlcXVpcmUiLCJtb2RlbHMiLCJVc2VyIiwiTm90Rm91bmRFcnJvciIsIm1vZHVsZSIsImV4cG9ydHMiLCJpZCIsInN0cmluZyIsInVzZXIiLCJmaW5kQnlJZCIsImRpZXQiLCJmYXZvcml0ZXMiLCJwdXNoIiwic2F2ZSJdLCJtYXBwaW5ncyI6ImszRUFBQSxLQUFNLENBQUVBLFFBQUYsMkJBQWVDLE9BQU8sQ0FBQyxxQkFBRCxDQUF0QixDQUFOLENBQ0EsS0FBTSxDQUFFQyxNQUFNLENBQUUsQ0FBRUMsSUFBRixDQUFWLDJCQUF1QkYsT0FBTyxDQUFDLG9CQUFELENBQTlCLENBQU4sQ0FDQSxLQUFNLENBQUVHLGFBQUYsMkJBQW9CSCxPQUFPLENBQUMsc0JBQUQsQ0FBM0IsQ0FBTixDLHdCQUVBSSxNQUFNLENBQUNDLE9BQVAsQ0FBa0JDLEVBQUQsRUFBUSxpREFFckJQLFFBQVEsQ0FBQ1EsTUFBVCxDQUFnQkQsRUFBaEIsQ0FBb0IsSUFBcEIsRUFGcUIsd0JBSXJCLE1BQU8sQ0FBQyxTQUFZLHlCQUdoQixLQUFNRSxDQUFBQSxJQUFJLDBCQUFHLEtBQU1OLENBQUFBLElBQUksQ0FBQ08sUUFBTCxDQUFjSCxFQUFkLENBQVQsQ0FBVixDQUhnQix3QkFLaEIsR0FBSSxDQUFDRSxJQUFMLENBQVcseURBQU0sSUFBSUwsQ0FBQUEsYUFBSixDQUFtQixnQkFBZUcsRUFBRyxpQkFBckMsQ0FBTixDQUE0RCxDQUF2RSxJQUNLLDRCQUVELEtBQU1JLENBQUFBLElBQUksMEJBQUdGLElBQUksQ0FBQ0UsSUFBUixDQUFWLENBRkMseUJBSUQsR0FBRyxDQUFDQSxJQUFKLENBQVUsMERBQU0sSUFBSVAsQ0FBQUEsYUFBSixDQUFtQixnQkFBZUcsRUFBRyx1QkFBckMsQ0FBTixDQUFrRSxDQUE1RSxpQ0FKQyx5QkFNREUsSUFBSSxDQUFDRyxTQUFMLENBQWVDLElBQWYsQ0FBb0JGLElBQXBCLEVBTkMseUJBUUQsS0FBTUYsQ0FBQUEsSUFBSSxDQUFDSyxJQUFMLEVBQU4sQ0FFSCxDQUdKLENBbkJNLEdBQVAsQ0FzQkgsQ0ExQkQiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IHZhbGlkYXRlIH0gPSByZXF1aXJlKFwiZGlldC15b3Vyc2VsZi11dGlsc1wiKVxuY29uc3QgeyBtb2RlbHM6IHsgVXNlciB9IH0gPSByZXF1aXJlKCdkaWV0LXlvdXJzZWxmLWRhdGEnKVxuY29uc3QgeyBOb3RGb3VuZEVycm9yIH0gPSByZXF1aXJlKFwiZGlldC15b3Vyc2VsZi1lcnJvcnNcIilcblxubW9kdWxlLmV4cG9ydHMgPSAoaWQpID0+IHtcblxuICAgIHZhbGlkYXRlLnN0cmluZyhpZCwgXCJpZFwiKVxuXG4gICAgcmV0dXJuIChhc3luYyAoKSA9PiB7XG5cblxuICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kQnlJZChpZClcblxuICAgICAgICBpZiAoIXVzZXIpIHRocm93IG5ldyBOb3RGb3VuZEVycm9yKGB1c2VyIHdpdGggaWQgJHtpZH0gZG9lcyBub3QgZXhpc3RgKVxuICAgICAgICBlbHNlIHtcblxuICAgICAgICAgICAgY29uc3QgZGlldCA9IHVzZXIuZGlldFxuXG4gICAgICAgICAgICBpZighZGlldCkgdGhyb3cgbmV3IE5vdEZvdW5kRXJyb3IoYHVzZXIgd2l0aCBpZCAke2lkfSBkb2VzIG5vdCBoYXZlIGEgZGlldGApXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHVzZXIuZmF2b3JpdGVzLnB1c2goZGlldClcbiAgICBcbiAgICAgICAgICAgIGF3YWl0IHVzZXIuc2F2ZSgpXG5cbiAgICAgICAgfVxuXG4gICAgXG4gICAgfSkoKVxuXG5cbn0iXX0=